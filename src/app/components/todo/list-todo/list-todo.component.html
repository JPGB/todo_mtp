<ul class="">
  @for(todo of todos; track $index) {
  <li
    class="items-center justify-between p-4 my-2 border border-solid rounded-lg cursor-pointer border-black/40 dark:border-white/10 {{
      filters[todo.priority] && filters[todo.isDone ? 'completed' : 'pending']
        ? 'flex'
        : 'hidden'
    }}"
    (click)="selectTodo(todo)"
  >
    <main class="w-2/4 md:w-3/4">
      <header
        class="text-base font-semibold truncate h-1/2"
        [title]="todo.title"
      >
        {{ todo.title }}
      </header>
      <p class="text-sm truncate h-1/2" [title]="todo.description">
        {{ todo.description }}
      </p>
    </main>

    <section
      (click)="$event.stopPropagation()"
      class="flex flex-col items-end justify-center gap-4"
    >
      <section class="">
        @if (todo.priority == 'low') {
        <button
          class="self-center px-1 py-1 text-xs text-white bg-green-500 rounded-lg dark:bg-green-600"
        >
          Low
        </button>
        } @else if(todo.priority == 'moderate') {
        <button
          class="self-center px-1 py-1 text-xs text-white rounded-lg bg-amber-500 dark:bg-amber-600"
        >
          Moderate
        </button>
        } @else {
        <button
          class="self-center px-1 py-1 text-xs text-white bg-red-500 rounded-lg dark:bg-red-600"
        >
          High
        </button>
        }
      </section>
      <section class="">
        @if (todo.isDone) {
        <button
          (click)="toggleIsDone(todo)"
          class="flex items-center justify-center w-6 h-6 text-xs text-white border border-green-500 border-solid rounded-full 2-4 hover:border-green-400 dark:border-green-600 dark:hover:border-green-500"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            fill="currentColor"
            class="text-black bi bi-check dark:text-white"
            viewBox="0 0 16 16"
          >
            <path
              d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425z"
            />
          </svg>
        </button>
        } @else {
        <button
          (click)="toggleIsDone(todo)"
          class="flex items-center justify-center w-6 h-6 text-xs text-white border border-solid rounded-full 2-4 border-amber-500 hover:border-amber-400 dark:border-amber-600 dark:hover:border-amber-500"
        ></button>

        }
      </section>
    </section>
  </li>
  } @empty {
  <p class="">No tasks</p>
  }
</ul>
